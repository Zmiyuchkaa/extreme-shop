{"ast":null,"code":"var _jsxFileName = \"/Users/olenarolskaya/FE/extreme-shop/frontend/src/pages/login/index.jsx\";\nimport React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\nexport default LogIn = () => {\n  let [mail, setMail] = useState('');\n  let [pass, setPass] = useState();\n  let [helperText, setHelperText] = useState('');\n  let [error, setError] = useState(false);\n  const [cookies, setCookie] = useCookies([]);\n  const [toProducts, setToProducts] = useState(false);\n\n  const handleMailInputChange = event => {\n    setMail(event.target.value);\n  };\n\n  const handlePassInputChange = event => {\n    if (event.target.value.length >= 6) {\n      setPass(event.target.value);\n      setHelperText('');\n      setError(false);\n    } else {\n      setHelperText('Неправильный пароль. Требуется минимум 6 символов.');\n      setError(true);\n    }\n  };\n\n  const submitButton = () => {\n    axios.post('http://localhost:3030/authentication', {\n      strategy: 'local',\n      email: mail,\n      password: pass\n    }).then(response => {\n      if (response.status === 201) {\n        setCookie('token', response.data.accessToken, {\n          path: '/'\n        });\n        console.log('redirecting');\n        setTimeout(() => setToProducts(true), 500);\n      }\n    }).catch(error => {\n      alert(`${error.response.data.message}`);\n      let errorText = error;\n      console.log(error.response.data.message);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.form,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), \"onChange=\", handleMailInputChange, \"variant=\\\"outlined\\\" margin=\\\"normal\\\" required fullWidth id=\\\"email\\\" label=\\\"Email Address\\\" name=\\\"email\\\" autoFocus />\", /*#__PURE__*/React.createElement(TextField, {\n    onChange: handlePassInputChange,\n    error: error,\n    helperText: helperText,\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: submitButton,\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"), toProducts ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/messages/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 31\n    }\n  }) : null)))));\n};","map":{"version":3,"sources":["/Users/olenarolskaya/FE/extreme-shop/frontend/src/pages/login/index.jsx"],"names":["React","useState","Link","RouterLink","Redirect","axios","useCookies","LogIn","mail","setMail","pass","setPass","helperText","setHelperText","error","setError","cookies","setCookie","toProducts","setToProducts","handleMailInputChange","event","target","value","handlePassInputChange","length","submitButton","post","strategy","email","password","then","response","status","data","accessToken","path","console","log","setTimeout","catch","alert","message","errorText","classes","main","paper","form","submit"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\n\n\n\nexport default LogIn = () => {\n  let [mail, setMail] = useState('');\n  let [pass, setPass] = useState();\n  let [helperText, setHelperText] = useState('');\n  let [error, setError] = useState(false);\n  const [cookies, setCookie] = useCookies([]);\n  const [toProducts, setToProducts] = useState(false);\n\n  const handleMailInputChange = (event) => {\n    setMail(event.target.value);\n  }\n\n  const handlePassInputChange = (event) => {\n    if (event.target.value.length >= 6) {\n      setPass(event.target.value);\n      setHelperText('');\n      setError(false);\n    } else {\n      setHelperText('Неправильный пароль. Требуется минимум 6 символов.');\n      setError(true);\n    }\n  }\n\n  const submitButton =() => {\n  axios.post('http://localhost:3030/authentication',{\n  strategy : 'local',\n  email: mail,\n  password: pass,\n  })\n  .then(response => {\n    if (response.status === 201) {\n      setCookie('token', response.data.accessToken, { path: '/' });\n      console.log('redirecting')\n      setTimeout(() => setToProducts(true), 500);\n    }\n  })\n  .catch(error => {\n    alert(`${error.response.data.message}`);\n    let errorText = error;\n    console.log(error.response.data.message)\n    })\n  }\n\n  return (\n    <div className={classes.main}>\n      <div>\n        <div>\n            <div className={classes.paper}>\n              <div className={classes.form} noValidate>\n                <input></input>\n                  onChange={handleMailInputChange}\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoFocus\n                />\n                <TextField\n                  onChange={handlePassInputChange}\n                  error = {error}\n                  helperText = {helperText}\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                />\n                <Button\n                  onClick={submitButton}\n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  className={classes.submit}\n                >\n                  Войти\n                </Button>\n                {toProducts ? <Redirect to=\"/messages/\" /> : null}\n              </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}