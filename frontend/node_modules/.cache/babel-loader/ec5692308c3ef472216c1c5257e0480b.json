{"ast":null,"code":"var _jsxFileName = \"/Users/olenarolskaya/FE/extreme-shop/frontend/src/components/cart/index.jsx\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { CartContext } from \"./context\";\nimport products from \"../../data/products\";\n\nfunction formatPrice(price) {\n  return `${(price * 0.01).toFixed(2)} грн.`;\n}\n\nfunction totalPrice(items) {\n  return items.reduce((acc, item) => acc + item.quantity * item.price, 0.0);\n}\n\nexport default function Cart({\n  stripeToken\n}) {\n  const [stripe, setStripe] = useState(null);\n  const ctx = useContext(CartContext);\n  useEffect(() => {\n    if (window.Stripe) setStripe(window.Stripe(stripeToken));\n  }, [stripeToken]);\n\n  function checkout() {\n    stripe.redirectToCheckout({\n      products: products.map(item => ({\n        quantity: item.quantity,\n        sku: item.sku\n      })),\n      successUrl: \"https://your-website.com/success\",\n      cancelUrl: \"https://your-website.com/canceled\"\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"Quanity\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Price\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, ctx.items.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `/images/${item.sku}.jpg`,\n    alt: item.name,\n    width: 50,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, item.quantity), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, formatPrice(item.price * item.quantity)))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      textAlign: \"right\"\n    },\n    colspan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Total:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, formatPrice(totalPrice(ctx.items)))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      textAlign: \"right\"\n    },\n    colspan: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: checkout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, \"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u044C \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0443\"))))));\n}","map":{"version":3,"sources":["/Users/olenarolskaya/FE/extreme-shop/frontend/src/components/cart/index.jsx"],"names":["React","useState","useEffect","useContext","CartContext","products","formatPrice","price","toFixed","totalPrice","items","reduce","acc","item","quantity","Cart","stripeToken","stripe","setStripe","ctx","window","Stripe","checkout","redirectToCheckout","map","sku","successUrl","cancelUrl","name","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\"\nimport { CartContext } from \"./context\"\nimport products from \"../../data/products\"\n\nfunction formatPrice(price) {\n  return `${(price * 0.01).toFixed(2)} грн.`\n}\n\nfunction totalPrice(items) {\n  return items.reduce((acc, item) => acc + item.quantity * item.price, 0.0)\n}\n\nexport default function Cart({ stripeToken }) {\n  const [stripe, setStripe] = useState(null)\n  const ctx = useContext(CartContext)\n\n  useEffect(() => {\n    if (window.Stripe) setStripe(window.Stripe(stripeToken))\n  }, [stripeToken])\n\n  function checkout() {\n    stripe.redirectToCheckout({\n      products: products.map(item => ({\n        quantity: item.quantity,\n        sku: item.sku\n      })),\n      successUrl: \"https://your-website.com/success\",\n      cancelUrl: \"https://your-website.com/canceled\"\n    })\n  }\n\n  return (\n    <div>\n      <table>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Image</th>\n            <th>Quanity</th>\n            <th>Price</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {ctx.items.map(item => (\n            <tr>\n              <td>{item.name}</td>\n              <td>\n                <img\n                  src={`/images/${item.sku}.jpg`}\n                  alt={item.name}\n                  width={50}\n                />\n              </td>\n              <td>{item.quantity}</td>\n              <td>{formatPrice(item.price * item.quantity)}</td>\n            </tr>\n          ))}\n          <tr>\n            <td style={{ textAlign: \"right\" }} colspan={3}>\n              Total:\n            </td>\n            <td>{formatPrice(totalPrice(ctx.items))}</td>\n          </tr>\n\n          <tr>\n            <td style={{ textAlign: \"right\" }} colspan={4}>\n              <button onClick={checkout}>Завершить покупку</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}